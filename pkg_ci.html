<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.28">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>rOpenSci Packages: Development, Maintenance, and Peer Review - 2&nbsp; Continuous Integration Best Practices</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./pkg_security.html" rel="next">
<link href="./pkg_building.html" rel="prev">
<link href="./images/apple-touch-icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript></noscript></head><body class="nav-sidebar floating"><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p>
<!-- End Matomo Code -->



<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous Integration Best Practices</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">rOpenSci Packages: Development, Maintenance, and Peer Review</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ropensci/dev_guide/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">rOpenSci Dev Guide</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Building Your Package</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_building.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Packaging Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_ci.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous Integration Best Practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_security.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package Development Security Best Practices</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Software Peer Review of Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Software Peer Review, Why? What?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_policies.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Software Peer Review policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_author.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Guide for Authors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_reviewer.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Guide for Reviewers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Guide for Editors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor_management.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Editorial management</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Maintaining Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_collaboration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Collaboration Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_changing_maintainers.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Changing package maintainers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_releases.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Releasing a package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_marketing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Marketing your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_github_grooming.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">GitHub Grooming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_evolution.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Package evolution - changing stuff in your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_curation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Package Curation Policy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_contributing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Contributing Guide</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendix</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./booknews.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">NEWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Review template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplatees.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Review template in Spanish</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./editortemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Editor’s template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewrequesttemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Review request template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./approval2template.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Reviewer approval comment template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newstemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">NEWS template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bookreleaseissue.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Book release guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./redirect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">How to set a redirect</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#what-is-continuous-integration-ci" id="toc-what-is-continuous-integration-ci" class="nav-link active" data-scroll-target="#what-is-continuous-integration-ci"> <span class="header-section-number">2.1</span> What is continuous integration (CI)?</a></li>
  <li><a href="#why-use-continuous-integration-ci" id="toc-why-use-continuous-integration-ci" class="nav-link" data-scroll-target="#why-use-continuous-integration-ci"> <span class="header-section-number">2.2</span> Why use continuous integration (CI)?</a></li>
  <li>
<a href="#whichci" id="toc-whichci" class="nav-link" data-scroll-target="#whichci"> <span class="header-section-number">2.3</span> Which continuous integration service(s)?</a>
  <ul class="collapse">
<li><a href="#travis-ci-linux-and-mac-osx" id="toc-travis-ci-linux-and-mac-osx" class="nav-link" data-scroll-target="#travis-ci-linux-and-mac-osx"> <span class="header-section-number">2.3.1</span> Travis CI (Linux and Mac OSX)</a></li>
  <li><a href="#appveyor-ci-windows" id="toc-appveyor-ci-windows" class="nav-link" data-scroll-target="#appveyor-ci-windows"> <span class="header-section-number">2.3.2</span> AppVeyor CI (Windows)</a></li>
  <li><a href="#circle-ci-linux-and-mac-osx" id="toc-circle-ci-linux-and-mac-osx" class="nav-link" data-scroll-target="#circle-ci-linux-and-mac-osx"> <span class="header-section-number">2.3.3</span> Circle CI (Linux and Mac OSX)</a></li>
  </ul>
</li>
  <li><a href="#coverage" id="toc-coverage" class="nav-link" data-scroll-target="#coverage"> <span class="header-section-number">2.4</span> Test coverage</a></li>
  <li><a href="#even-more-ci-opencpu" id="toc-even-more-ci-opencpu" class="nav-link" data-scroll-target="#even-more-ci-opencpu"> <span class="header-section-number">2.5</span> Even more CI: OpenCPU</a></li>
  <li><a href="#rodocsci" id="toc-rodocsci" class="nav-link" data-scroll-target="#rodocsci"> <span class="header-section-number">2.6</span> Even more CI: rOpenSci docs</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/ropensci/dev_guide/edit/main/pkg_ci.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/ropensci/dev_guide/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title"><span id="ci" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous Integration Best Practices</span></span></h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell" type="summaryblock">
<div class="summaryblock">
<p>
This chapter summarizes our guidelines about continuous integration after explaining what continuous integration is.
</p>
<p>
Along with <a href="pkg_building.html">last chapter</a>, it forms our guidelines for Software Peer Review.
</p>
</div>
</div>
<section id="what-is-continuous-integration-ci" class="level2" data-number="2.1"><h2 data-number="2.1" class="anchored" data-anchor-id="what-is-continuous-integration-ci">
<span class="header-section-number">2.1</span> What is continuous integration (CI)?</h2>
<p>Continuous integration automatically runs tests on software. In the case of rOpenSci, CI practically means that a set of tests will be automatically run via GitHub, every time that you make a commit or pull request to GitHub.</p>
<p>CI automates the running of general package checks such as <code>R CMD check</code>, see <a href="./building.html#testing">testing</a>. It is possible to set up CI before your tests are written, then CI will run the tests as you commit them to the repository.</p>
</section><section id="why-use-continuous-integration-ci" class="level2" data-number="2.2"><h2 data-number="2.2" class="anchored" data-anchor-id="why-use-continuous-integration-ci">
<span class="header-section-number">2.2</span> Why use continuous integration (CI)?</h2>
<p>All rOpenSci packages must use one form of continuous integration. This ensures that all commits, pull requests and new branches are run through <code>R CMD check</code>. The results of all tests are displayed on the pull request page on GitHub, providing another layer of information about problems and protection against breaking your package before merging changes. rOpenSci packages’ continuous integration must also be linked to a code coverage service, indicating how many lines are covered by unit tests.</p>
<p>Both test status and code coverage should be reported via badges in your package README.</p>
<p>R packages should have CI for all operating systems (Linux, Mac OSX, Windows) when they contain:</p>
<ul>
<li><p>Compiled code</p></li>
<li><p>Java dependencies</p></li>
<li><p>Dependencies on other languages</p></li>
<li><p>Packages with system calls</p></li>
<li><p>Text munging such as getting people’s names (in order to find encoding issues).</p></li>
<li><p>Anything with file system / path calls</p></li>
</ul>
<p>In case of any doubt regarding the applicability of these criteria to your package, it’s better to add CI for all operating systems. Most CI services standards setups for R packages allow this with not much hassle.</p>
</section><section id="whichci" class="level2" data-number="2.3"><h2 data-number="2.3" class="anchored" data-anchor-id="whichci">
<span class="header-section-number">2.3</span> Which continuous integration service(s)?</h2>
<p>There are a number of continuous integration services, including standalone services (CircleCI, AppVeyor), and others integrated into code hosting or related services (GitHub Actions, GitLab, AWS Code Pipeline). Different services support different operating system configurations.</p>
<p><a href="https://github.com/features/actions">GitHub Actions</a> is a convenient option for many R developers who already use GitHub as it is integrated into the platform and supports all needed operating Systems. There are <a href="https://github.com/r-lib/actions/">actions supported for the R ecosystem</a>, as well and first-class support in the <a href="https://usethis.r-lib.org/reference/github_actions.html">{usethis}</a> package. All packages submitted to rOpenSci for peer review are checked by our own <a href="https://docs.ropensci.org/pkgcheck"><code>pkgcheck</code> system</a>, described further in the <a href="softwarereview_author.html">Guide for Authors</a>. These checks are also provided as a GitHub Action in the <a href="https://github.com/ropensci-review-tools/pkgcheck-action"><code>ropensci-review-tools/pkgcheck-action</code> repository</a>. Packages authors are encouraged to use that action to confirm prior to submission that a package passes all of our checks. See <a href="https://ropensci.org/blog/2022/02/01/pkgcheck-action/">our blog post</a> for more information.</p>
<p><a href="https://usethis.r-lib.org/reference/ci.html">usethis supports CI setup for other systems</a>, though these functions are soft-deprecated. rOpenSci also supports the <a href="https://docs.ropensci.org/circle/">circle</a> package, which aids in setting up CircleCI pipelines, and the <a href="https://docs.ropensci.org/tic/">tic</a> package for building more complicated CI pipelines.</p>
<section id="testing-using-different-versions-of-r" class="level4" data-number="2.3.0.1"><h4 data-number="2.3.0.1" class="anchored" data-anchor-id="testing-using-different-versions-of-r">
<span class="header-section-number">2.3.0.1</span> Testing using different versions of R</h4>
<p>We require that rOpenSci packages are tested against the latest, previous and development versions of R to ensure both backwards and forwards compatibility with base R.</p>
<p>Details of how to run tests/checks using different versions of R locally can be found in the R-hub vignette on running <a href="https://r-hub.github.io/rhub/articles/local-debugging.html">Local Linux checks with Docker</a>.</p>
<p>You can fine tune the deployment of tests with each versions by using a testing matrix.</p>
<p>If you develop a package depending on or intended for Bioconductor, you might find <a href="https://lcolladotor.github.io/biocthis/index.html">biocthis</a> relevant.</p>
</section><section id="minimizing-build-times-on-ci" class="level4" data-number="2.3.0.2"><h4 data-number="2.3.0.2" class="anchored" data-anchor-id="minimizing-build-times-on-ci">
<span class="header-section-number">2.3.0.2</span> Minimizing build times on CI</h4>
<p>You can use these tips to minimize build time on CI:</p>
<ul>
<li>Cache installation of packages. The default <a href="https://github.com/r-lib/actions">r-lib/actions</a> do this.</li>
</ul></section><section id="travis-ci-linux-and-mac-osx" class="level3" data-number="2.3.1"><h3 data-number="2.3.1" class="anchored" data-anchor-id="travis-ci-linux-and-mac-osx">
<span class="header-section-number">2.3.1</span> Travis CI (Linux and Mac OSX)</h3>
<p>We recommend <a href="https://ropensci.org/technotes/2020/11/19/moving-away-travis/">moving away from Travis</a>.</p>
</section><section id="appveyor-ci-windows" class="level3" data-number="2.3.2"><h3 data-number="2.3.2" class="anchored" data-anchor-id="appveyor-ci-windows">
<span class="header-section-number">2.3.2</span> AppVeyor CI (Windows)</h3>
<p>For continuous integration on Windows, see <a href="https://github.com/krlmlr/r-appveyor">R + AppVeyor</a>. Set it up using <code><a href="https://usethis.r-lib.org/reference/ci.html">usethis::use_appveyor()</a></code>.</p>
<p>Here are tips to minimize AppVeyor build time:</p>
<ul>
<li><p>Cache installation of packages. <a href="https://github.com/r-lib/usethis/blob/2c52c06373849d52f78a26c5a0e080f518a2f825/inst/templates/appveyor.yml#L13">Example in a config file</a>. It’ll already be in the config file if you set AppVeyor CI up using <code><a href="https://usethis.r-lib.org/reference/ci.html">usethis::use_appveyor()</a></code>.</p></li>
<li><p>Enable <a href="https://www.appveyor.com/docs/build-configuration/#rolling-builds">rolling builds</a>.</p></li>
</ul>
<p>We no longer transfer AppVeyor projects to ropensci AppVeyor account so after transfer of your repo to rOpenSci’s “ropensci” GitHub organization the badge will be <code>[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/ropensci/pkgname?branch=master&amp;svg=true)](https://ci.appveyor.com/project/individualaccount/pkgname)</code>.</p>
</section><section id="circle-ci-linux-and-mac-osx" class="level3" data-number="2.3.3"><h3 data-number="2.3.3" class="anchored" data-anchor-id="circle-ci-linux-and-mac-osx">
<span class="header-section-number">2.3.3</span> Circle CI (Linux and Mac OSX)</h3>
<p><a href="https://circleci.com/">Circle CI</a> is used, for example, by rOpenSci package <a href="https://github.com/ropensci/bomrang"><code>bomrang</code></a> as continuous integration service.</p>
</section></section><section id="coverage" class="level2" data-number="2.4"><h2 data-number="2.4" class="anchored" data-anchor-id="coverage">
<span class="header-section-number">2.4</span> Test coverage</h2>
<p>Continuous integration should also include reporting of test coverage via a testing service such as <a href="https://codecov.io/">Codecov</a> or <a href="https://coveralls.io/">Coveralls</a>.</p>
<p>We recommend using Codecov. To activate Codecov for your repo, run <code>usethis::use_github_action("test-coverage")</code> to create a file <code>.github/workflows/test-coverage.yaml</code>. You also need to give Codecov access to your github repository, see <a href="https://docs.codecov.com/docs/quick-start">Codecov quick start guide</a> for how to set up access. Then add a Codecov status badge to the top of your README.md, see <a href="https://docs.codecov.com/docs/status-badges">Codecov status badges</a>.</p>
<p>Currently, Codecov has access to all ropensci github repositories by default. When your repository is accepted and transferred to ropensci, Codecov access should transfer automatically. You will need to update the URL of the badge to point to the rOpenSci-hosted repository.</p>
<p>For more details, see the <a href="https://github.com/r-lib/covr">README for the <strong>covr</strong> package</a> for instructions, as well as <a href="https://usethis.r-lib.org/reference/use_coverage.html"><code>usethis::use_coverage()</code></a> and <a href="https://usethis.r-lib.org/reference/github_actions.html"><code>usethis::use_github_action()</code></a>.</p>
<p>If you run coverage on several CI services <a href="https://docs.codecov.io/docs/merging-reports">the results will be merged</a>.</p>
</section><section id="even-more-ci-opencpu" class="level2" data-number="2.5"><h2 data-number="2.5" class="anchored" data-anchor-id="even-more-ci-opencpu">
<span class="header-section-number">2.5</span> Even more CI: OpenCPU</h2>
<p>After transfer to rOpenSci’s “ropensci” GitHub organization, each push to the repo will be built on OpenCPU and the person committing will receive a notification email. This is an additional CI service for package authors that allows for R functions in packages to be called remotely via https://ropensci.ocpu.io/ using the <a href="https://www.opencpu.org/api.html#api-json">opencpu API</a>. For more details about this service, consult the OpenCPU <a href="https://www.opencpu.org/help.html">help page</a> that also indicates where to ask questions.</p>
</section><section id="rodocsci" class="level2" data-number="2.6"><h2 data-number="2.6" class="anchored" data-anchor-id="rodocsci">
<span class="header-section-number">2.6</span> Even more CI: rOpenSci docs</h2>
<p>After transfer to rOpenSci’s “ropensci” GitHub organization, a pkgdown website will be built for your package after each push to the GitHub repo. You can find the status of these builds at <code>https://dev.ropensci.org/job/package_name</code>, e.g.&nbsp;<a href="https://dev.ropensci.org/job/magick">for <code>magick</code></a>; and the website at <code>https://docs.ropensci.org/package_name</code>, e.g.&nbsp;<a href="https://docs.ropensci.org/magick">for <code>magick</code></a>. The website build will use your pkgdown config file if you have one, except for the styling that will use the <a href="https://github.com/ropensci-org/rotemplate/"><code>rotemplate</code> package</a>. Please report bugs, questions and feature requests about the central builds at https://github.com/ropensci/docs/ and about the template at https://github.com/ropensci-org/rotemplate/.</p>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./pkg_building.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Packaging Guide</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./pkg_security.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package Development Security Best Practices</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>
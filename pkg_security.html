<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.0.28">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>rOpenSci Packages: Development, Maintenance, and Peer Review - 3&nbsp; Package Development Security Best Practices</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>

<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./softwarereview_intro.html" rel="next">
<link href="./pkg_ci.html" rel="prev">
<link href="./images/apple-touch-icon.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript></noscript></head><body class="nav-sidebar floating"><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p>
<!-- End Matomo Code -->



<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">
<span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package Development Security Best Practices</span>
</h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">rOpenSci Packages: Development, Maintenance, and Peer Review</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/ropensci/dev_guide/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">rOpenSci Dev Guide</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./preface.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">Building Your Package</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_building.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Packaging Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_ci.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous Integration Best Practices</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./pkg_security.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package Development Security Best Practices</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">Software Peer Review of Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Software Peer Review, Why? What?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_policies.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Software Peer Review policies</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_author.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Guide for Authors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_reviewer.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Guide for Reviewers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Guide for Editors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./softwarereview_editor_management.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Editorial management</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">Maintaining Packages</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_collaboration.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Collaboration Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_changing_maintainers.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Changing package maintainers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_releases.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Releasing a package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_marketing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Marketing your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_github_grooming.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">GitHub Grooming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_evolution.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Package evolution - changing stuff in your package</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_curation.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Package Curation Policy</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./maintenance_contributing.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Contributing Guide</span></a>
  </div>
</li>
      </ul>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">Appendix</a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./booknews.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">NEWS</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Review template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewtemplatees.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Review template in Spanish</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./editortemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Editor’s template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reviewrequesttemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">Review request template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./approval2template.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">Reviewer approval comment template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./newstemplate.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">NEWS template</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./bookreleaseissue.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Book release guidance</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./redirect.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">26</span>&nbsp; <span class="chapter-title">How to set a redirect</span></a>
  </div>
</li>
      </ul>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#miscellaneous" id="toc-miscellaneous" class="nav-link active" data-scroll-target="#miscellaneous"> <span class="header-section-number">3.1</span> Miscellaneous</a></li>
  <li><a href="#github-access-security" id="toc-github-access-security" class="nav-link" data-scroll-target="#github-access-security"> <span class="header-section-number">3.2</span> GitHub access security</a></li>
  <li><a href="#https" id="toc-https" class="nav-link" data-scroll-target="#https"> <span class="header-section-number">3.3</span> https</a></li>
  <li>
<a href="#pkgsecrets" id="toc-pkgsecrets" class="nav-link" data-scroll-target="#pkgsecrets"> <span class="header-section-number">3.4</span> Secrets in packages</a>
  <ul class="collapse">
<li><a href="#secrets-in-packages-and-user-protection" id="toc-secrets-in-packages-and-user-protection" class="nav-link" data-scroll-target="#secrets-in-packages-and-user-protection"> <span class="header-section-number">3.4.1</span> Secrets in packages and user protection</a></li>
  <li><a href="#secrets-in-packages-and-development" id="toc-secrets-in-packages-and-development" class="nav-link" data-scroll-target="#secrets-in-packages-and-development"> <span class="header-section-number">3.4.2</span> Secrets in packages and development</a></li>
  <li><a href="#secrets-and-cran" id="toc-secrets-and-cran" class="nav-link" data-scroll-target="#secrets-and-cran"> <span class="header-section-number">3.4.3</span> Secrets and CRAN</a></li>
  </ul>
</li>
  <li><a href="#furthersecreading" id="toc-furthersecreading" class="nav-link" data-scroll-target="#furthersecreading"> <span class="header-section-number">3.5</span> Further reading</a></li>
  </ul><div class="toc-actions"><div><i class="bi bi-github"></i></div><div class="action-links"><p><a href="https://github.com/ropensci/dev_guide/edit/main/pkg_security.Rmd" class="toc-action">Edit this page</a></p><p><a href="https://github.com/ropensci/dev_guide/issues/new" class="toc-action">Report an issue</a></p></div></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<h1 class="title d-none d-lg-block">
<span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Package Development Security Best Practices</span>
</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell" type="summaryblock">
<div class="summaryblock">
<p>
This work-in-progress chapter includes <a href="#pkgsecrets">guidance about managing secrets in packages</a> and <a href="#furthersecreading">links for further reading</a>.
</p>
</div>
</div>
<section id="miscellaneous" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="miscellaneous">
<span class="header-section-number">3.1</span> Miscellaneous</h2>
<p>We recommend the article <a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1008563">Ten quick tips for staying safe online</a> by Danielle Smalls and Greg Wilson.</p>
</section><section id="github-access-security" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="github-access-security">
<span class="header-section-number">3.2</span> GitHub access security</h2>
<ul>
<li><p>We recommend you <a href="https://help.github.com/articles/securing-your-account-with-two-factor-authentication-2fa/">secure your GitHub account with two-factor (authentication) 2FA</a>. It is <em>compulsory</em> for all ropensci GitHub organization members and outside collaborators so make sure to enable it before your package is approved.</p></li>
<li><p>We also recommend you regularly check who has access to your package repository, and that you prune any unused access (such as from former collaborators).</p></li>
</ul></section><section id="https" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="https">
<span class="header-section-number">3.3</span> https</h2>
<ul>
<li>If the web service your package wraps has either https or http, opt for https.</li>
</ul></section><section id="pkgsecrets" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="pkgsecrets">
<span class="header-section-number">3.4</span> Secrets in packages</h2>
<p>This section contains guidance for when you develop a package interacting with a web resource requiring credentials (API keys, tokens, etc.). Also refer to <a href="https://httr.r-lib.org/articles/secrets.html">the <code>httr</code> vignette about sharing secrets</a>.</p>
<section id="secrets-in-packages-and-user-protection" class="level3" data-number="3.4.1"><h3 data-number="3.4.1" class="anchored" data-anchor-id="secrets-in-packages-and-user-protection">
<span class="header-section-number">3.4.1</span> Secrets in packages and user protection</h3>
<p>Say your package needs an API key for making requests on behalf of users of your package.</p>
<ul>
<li>
<p>In your package documentation, guide the user so the API key doesn’t end up in the .Rhistory/script of users of your package.</p>
<ul>
<li><p>Encourage the use of environment variables to store the API key (or even remove the possibility to pass it as an argument to the functions?). You could link <a href="https://rstats.wtf/r-startup.html">to this intro to startup files</a> and <a href="https://usethis.r-lib.org/reference/edit.html"><code>usethis::edit_r_environ()</code></a>.</p></li>
<li><p>Or your package could depend on, or encourage the use of, <a href="https://github.com/r-lib/keyring#readme"><code>keyring</code> to help user store variables</a> in the specific OS’ credential stores (more secure than .Renviron): i.e.&nbsp;you’d create a function for setting the key, and have another one for retrieving the key; or the user would write <code>Sys.setenv(SUPERSECRETKEY = keyring::key_get("myservice"))</code> at the beginning of their script.</p></li>
<li><p>Do not print the API key even in verbose mode in any message, warning, error.</p></li>
</ul>
</li>
<li><p>In the GitHub issue template, it should be stated not to share any credentials. If an user of your package accidentally shares credentials in an issue, make sure they’re aware of that so they can revoke the key (i.e.&nbsp;ask them explicitly in an answer whether they realized they shared their key).</p></li>
</ul></section><section id="secrets-in-packages-and-development" class="level3" data-number="3.4.2"><h3 data-number="3.4.2" class="anchored" data-anchor-id="secrets-in-packages-and-development">
<span class="header-section-number">3.4.2</span> Secrets in packages and development</h3>
<p>You’ll need to protect your secrets as you protect secrets of users, but there’s more to take into account and keep in mind.</p>
<section id="secrets-and-recorded-requests-in-tests" class="level4" data-number="3.4.2.1"><h4 data-number="3.4.2.1" class="anchored" data-anchor-id="secrets-and-recorded-requests-in-tests">
<span class="header-section-number">3.4.2.1</span> Secrets and recorded requests in tests</h4>
<p>If you use <a href="https://docs.ropensci.org/vcr/"><code>vcr</code></a> or <a href="https://enpiar.com/r/httptest/"><code>httptest</code></a> in tests for caching API responses, you need to make sure the recorded requests / fixtures do not contain secrets. Refer to <a href="https://books.ropensci.org/http-testing/security-chapter.html"><code>vcr</code> security guidance</a> and <a href="https://enpiar.com/r/httptest/articles/redacting.html"><code>httptest</code> guidance “Redacting and Modifying Recorded Requests”</a>, and inspect your recorded requests / fixtures before committing them the first time to be sure you got the setup right.</p>
<p><code>vcr</code> being an rOpenSci package, you can post any question you might have to <a href="https://discuss.ropensci.org/">rOpenSci forum</a>.</p>
</section><section id="share-secrets-with-ci-services" class="level4" data-number="3.4.2.2"><h4 data-number="3.4.2.2" class="anchored" data-anchor-id="share-secrets-with-ci-services">
<span class="header-section-number">3.4.2.2</span> Share secrets with CI services</h4>
<p>Now, you might need to share secrets with <a href="pkg_ci.html">continuous integration services</a>.</p>
<p>You could store API keys as environment variables / secrets, referring to the docs of the CI service.</p>
<p>For more details and workflow advice, refer <a href="https://gargle.r-lib.org/articles/articles/managing-tokens-securely.html">to the gargle article “Managing tokens securely”</a> and the <a href="https://books.ropensci.org/http-testing/security-chapter.html">security chapter of the HTTP testing in R book</a>.</p>
<p>Document the steps you made in <a href="maintenance_collaboration.html#friendlyfiles">CONTRIBUTING.md</a> so you, or say a new maintainer, can remember how to do that next time.</p>
</section><section id="secrets-and-collaborations" class="level4" data-number="3.4.2.3"><h4 data-number="3.4.2.3" class="anchored" data-anchor-id="secrets-and-collaborations">
<span class="header-section-number">3.4.2.3</span> Secrets and collaborations</h4>
<p>What about pull requests from external contributors? Tests using your secrets will fail unless you use some sort of mocked/cached response, so you might want to skip them depending on the context. For instance, in your CI account you could create an environment variable called <code>THIS_IS_ME</code> and then skip tests based on the presence of this variable. This obviously means the PR checks by the CI are not exhaustive, so you’ll need to check out the PR locally to run all tests.</p>
<p>Document the behavior of your package for external PRs in <a href="maintenance_collaboration.html#friendlyfiles">CONTRIBUTING.md</a> for the sake of people making PRs and of people reviewing them (you in a few weeks, and other authors of the package).</p>
</section></section><section id="secrets-and-cran" class="level3" data-number="3.4.3"><h3 data-number="3.4.3" class="anchored" data-anchor-id="secrets-and-cran">
<span class="header-section-number">3.4.3</span> Secrets and CRAN</h3>
<p>On CRAN, skip any tests (<code>skip_on_cran()</code>) and examples (<code>dontrun</code>) requiring credentials.</p>
<p><a href="https://ropensci.org/technotes/2019/12/08/precompute-vignettes/">Precompute vignettes</a> requiring credentials.</p>
</section></section><section id="furthersecreading" class="level2" data-number="3.5"><h2 data-number="3.5" class="anchored" data-anchor-id="furthersecreading">
<span class="header-section-number">3.5</span> Further reading</h2>
<p>Useful security resources:</p>
<ul>
<li><p><a href="https://ropensci.org/commcalls/2019-05-07/">rOpenSci community call “Security for R”</a> (recording, slides, etc. see in particular <a href="https://ropensci.org/blog/2019/04/09/commcall-may2019/#resources">the list of resources</a>);</p></li>
<li><p><a href="https://ropensci.org/blog/2018/06/06/unconf18_recap_2/">the security-related projects of unconf18</a>;</p></li>
<li><p><a href="https://ropensci.org/blog/2017/07/25/notary/">the <code>notary</code> package</a>;</p></li>
<li><p><a href="gargle.r-lib.org/articles/articles/managing-tokens-securely.html"><code>gargle</code> article “Managing tokens securely”</a></p></li>
</ul>


</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      let href = ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./pkg_ci.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Continuous Integration Best Practices</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./softwarereview_intro.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Software Peer Review, Why? What?</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>